(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{NLwr:function(t,e,a){t.exports=a.p+"static/email-example-e3d05414bf68e89f670423b3427e112d.png"},ub6p:function(t,e,a){"use strict";a.r(e);var r=a("VbXa"),n=a.n(r),o=a("q1tI"),i=a.n(o),s=a("TJpk"),l=a.n(s),p=a("RJaA"),c=(a("sMBO"),a("o0o1")),m=a.n(c),u=(a("UxlC"),a("3bBZ"),a("4mDm"),a("07d7"),a("T63A"),a("ls82"),a("yXPU")),d=a.n(u),h=a("Wbzz"),f=a("r9w1"),b=a("Z3vd"),w=a("uVck"),v=a("Xs5t"),g=a("Kfvu"),E=a("9kay"),C=a("vOnD"),y=a("pg4K"),O=C.b.div.withConfig({displayName:"CreateAccountForm__Row",componentId:"sc-1knwlom-0"})(["margin-bottom:1.5rem;"]),S=C.b.form.withConfig({displayName:"CreateAccountForm__Form",componentId:"sc-1knwlom-1"})([""]),_=C.b.div.withConfig({displayName:"CreateAccountForm__InfoBox",componentId:"sc-1knwlom-2"})(["margin-bottom:2rem;"]),k=C.b.div.withConfig({displayName:"CreateAccountForm__FormContainer",componentId:"sc-1knwlom-3"})(["height:100%;margin-top:2rem;"]),j=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).onClick=function(){var t=d()(m.a.mark((function t(a){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),e.setState({submitting:!0,triedSubmitting:!0}),e.validate()){t.next=5;break}return e.setState({canSubmit:!1,submitting:!1}),t.abrupt("return");case 5:return t.prev=5,t.next=8,Object(w.d)({email:e.state.email,password:e.state.password,password_confirmation:e.state.password_confirmation});case 8:return t.sent,t.next=11,Object(w.b)({username:e.state.email,password:e.state.password});case 11:e.props.onComplete(),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(5);try{r="",Object.entries(t.t0).forEach((function(t){var a=t[0];t[1].forEach((function(t){var n=Object(v.a)(a.replace(/_/g," ")+" "+t+".");"Email has already been taken."===n&&(n=e.props.t("emailInUse")),r=r+" "+n}))})),""===r&&(r=e.props.t("problemCreatingAccount")+JSON.stringify(t.t0)),e.setState({error:r,submitting:!1,errorObj:t.t0})}catch(n){e.setState({error:JSON.stringify(t.t0),submitting:!1})}e.setState({submitting:!1});case 18:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e){return t.apply(this,arguments)}}(),e.handleInput=function(t){var a,r=t.target.name,n=t.target.value;e.setState(((a={})[r]=n,a),(function(){e.validate()}))},e.validate=function(){var t={error:"",errorObj:{}},a=e.state,r=a.email,n=a.password,o=a.password_confirmation,i=a.validatePassword,s=a.validateEmail,l=a.triedSubmitting;return r&&s&&(-1===r.indexOf("@")&&(t.error+=e.props.t("noAt"),t.errorObj.email=e.props.t("noAt")),r&&-1===r.indexOf(".")&&(t.error+=e.props.t("noAt"),t.errorObj.email=e.props.t("noAt"))),n&&o&&i&&n!==o&&(t.error+=e.props.t("passwordsNoMatch"),t.errorObj.password=e.props.t("passwordsNoMatch"),t.errorObj.password_confirmation=e.props.t("passwordsNoMatch")),""===t.error&&(t.error=!1,t.canSubmit=!0),r&&n&&o?(e.setState(t),!t.error):(l&&(t.canSubmit=!1),!1)},e.state={email:void 0,password:void 0,password_confirmation:void 0,submitting:!1,error:!1,errorObj:{},validatePassword:!1,validateEmail:!1,canSubmit:!0,triedSubmitting:!0},e}return n()(e,t),e.prototype.render=function(){var t=this;return this.context.loggedIn?(Object(h.navigate)("/"),i.a.createElement("div",null,"Redirecting...")):i.a.createElement(k,null,i.a.createElement("h1",null,this.props.t("createAccount")),i.a.createElement(S,{onChange:this.validate},i.a.createElement(_,null,this.props.t("courseUses")," ",i.a.createElement(g.OutboundLink,{href:"https://mooc.fi",target:"_blank",rel:"noopener noreferrer"},"mooc.fi")," ",this.props.t("courseUses2")),i.a.createElement(O,null,i.a.createElement(f.a,{variant:"outlined",type:"email",name:"email",autoComplete:"email",label:this.props.t("email"),error:this.state.errorObj.email,fullWidth:!0,value:this.state.email,onChange:this.handleInput,onBlur:function(){t.setState({validateEmail:!0},(function(){t.validate()}))}})),i.a.createElement(O,null,i.a.createElement(f.a,{variant:"outlined",type:this.state.showPassword?"text":"password",label:this.props.t("password"),name:"password",error:this.state.errorObj.password,fullWidth:!0,value:this.state.password,onChange:this.handleInput})),i.a.createElement(O,null,i.a.createElement(f.a,{variant:"outlined",type:this.state.showPassword?"text":"password",label:this.props.t("passwordAgain"),name:"password_confirmation",error:this.state.errorObj.password_confirmation,fullWidth:!0,value:this.state.password_confirmation,onChange:this.handleInput,onBlur:function(){t.setState({validatePassword:!0},(function(){t.validate()}))}})),i.a.createElement(O,null,i.a.createElement(b.a,{onClick:this.onClick,disabled:this.state.submitting||!this.state.canSubmit,variant:"contained",color:"primary",fullWidth:!0,type:"submit"},this.props.t("create")))),i.a.createElement(O,null,i.a.createElement(h.Link,{to:"/sign-in"},this.props.t("alreadyHaveAccount"))),this.state.error&&i.a.createElement(_,null,i.a.createElement("b",null,this.props.t("error")," ",this.state.error)))},e}(i.a.Component),x=Object(E.c)("user")(Object(y.a)(j)),A=a("4KiG"),I=a("NLwr"),N=a.n(I),q=C.b.div.withConfig({displayName:"ConfirmEmail__InfoBox",componentId:"sc-112qp9q-0"})(["margin-bottom:2rem;"]),F=C.b.div.withConfig({displayName:"ConfirmEmail__FormContainer",componentId:"sc-112qp9q-1"})(["height:100%;margin-top:2rem;"]),L=C.b.img.withConfig({displayName:"ConfirmEmail__StyledImage",componentId:"sc-112qp9q-2"})(["width:100%;padding:1rem 0;"]),B=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).onClick=function(){var t=d()(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={email:void 0,password:void 0,submitting:!1,error:!1},e}return n()(e,t),e.prototype.render=function(){return i.a.createElement(F,null,i.a.createElement("h1",null,this.props.t("welcomeToCourse")),i.a.createElement(q,null,i.a.createElement("p",null,this.props.t("emailSent")," "),i.a.createElement("p",null,this.props.t("emailExample")),i.a.createElement(L,{src:N.a,alt:this.props.t("emaiLExampleAria")})),i.a.createElement("p",null,this.props.t("nowContinue")," ",i.a.createElement(h.Link,{to:"/osa-1"},this.props.t("toMaterial")),"."))},e}(i.a.Component),J=Object(E.c)("user")(Object(y.a)(B)),P=a("eczs"),U=a("VUD3"),D=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).state={step:1},e.onStepComplete=function(){e.setState((function(t){return{step:t.step+1}})),"undefined"!=typeof window&&window.scrollTo(0,0)},e}return n()(e,t),e.prototype.render=function(){var t;return t=1===this.state.step?i.a.createElement(x,{onComplete:this.onStepComplete}):2===this.state.step?i.a.createElement(A.a,{courseVariant:"nodl",onComplete:this.onStepComplete}):i.a.createElement(J,{onComplete:this.onStepComplete}),i.a.createElement(p.a,null,i.a.createElement(l.a,{title:"Luo käyttäjätunnus"}),i.a.createElement(U.a,null,t))},e}(i.a.Component);D.contextType=P.b;e.default=Object(P.c)(D)}}]);
//# sourceMappingURL=component---src-pages-sign-up-js-be58699d58538f3683d1.js.map